<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>基础知识 - 视频处理学习</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="layout-container">
        <!-- 左侧导航 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><a href="index.html" style="color: white; text-decoration: none;">VideoLearn</a></h1>
            </div>
            <nav class="sidebar-nav">
                <ul class="nav-tree">
                    <li>
                        <span class="nav-category">基础知识</span>
                        <ul class="sub-nav">
                            <li><a href="#basics-1" class="active">视频的基本概念</a></li>
                            <li><a href="#basics-2">色彩空间与转换</a></li>
                            <li><a href="#basics-3">容器与编码格式</a></li>
                            <li><a href="#basics-4">图像处理理论</a></li>
                            <li><a href="#basics-5">图像变换技术</a></li>
                            <li><a href="#basics-6">边缘检测与特征</a></li>
                            <li><a href="#basics-7">运动估计与补偿</a></li>
                            <li><a href="#basics-8">帧类型与GOP</a></li>
                            <li><a href="#basics-9">质量评估指标</a></li>
                            <li><a href="#basics-10">视频压缩原理</a></li>
                        </ul>
                    </li>
                    <li>
                        <span class="nav-category">其他章节</span>
                        <ul class="sub-nav">
                            <li><a href="codec.html">编解码技术</a></li>
                            <li><a href="ai.html">AI视频处理</a></li>
                            <li><a href="streaming.html">在线视频</a></li>
                            <li><a href="tools.html">工具框架</a></li>
                            <li><a href="code.html">代码示例</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <section id="basics" class="section">
                <div class="container">
                    <h2>基础知识</h2>

                    <div class="topic-list">
                        <div class="topic-item" id="basics-1">
                            <h3>1. 视频的基本概念与表示</h3>
                            <p>视频是连续的图像序列，每张图像称为一帧（Frame）。理解视频的数学表示和物理特性是深入学习视频处理的基础。</p>
                            <ul>
                                <li><strong>帧率（FPS, Frames Per Second）</strong>：每秒显示的帧数，影响视频流畅度和时间分辨率</li>
                                <li><strong>分辨率</strong>：视频的空间分辨率，如720p(1280×720)、1080p(1920×1080)、4K(3840×2160)</li>
                                <li><strong>码率（Bitrate）</strong>：每秒视频数据量，单位bps，影响视频质量</li>
                                <li><strong>长宽比</strong>：视频帧的宽高比，常见16:9、4:3、21:9</li>
                                <li><strong>像素深度</strong>：每个像素的位数，如8-bit、10-bit，影响色彩表现</li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-2">
                            <h3>2. 色彩空间与转换</h3>
                            <p>色彩空间定义了颜色的表示方式。不同应用场景使用不同的色彩空间，理解转换原理对视频处理至关重要。</p>
                            <ul>
                                <li><strong>RGB色彩空间</strong>：加色模型，适合显示设备。R(红)、G(绿)、B(蓝)三个通道混合</li>
                                <li><strong>YUV/YCbCr色彩空间</strong>：亮色分离模型。Y表示亮度，U/V表示色度，常用于视频压缩</li>
                                <li><strong>色彩空间转换</strong>：RGB与YUV的线性转换关系，BT.601、BT.709、BT.2020标准</li>
                                <li><strong>色度采样</strong>：人眼对亮度敏感，可降低色度分辨率。格式包括4:4:4、4:2:2、4:2:0、4:1:1</li>
                                <li><strong>示例转换</strong>：Y = 0.299R + 0.587G + 0.114B (BT.601标准)</li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-3">
                            <h3>3. 视频容器格式与编码格式</h3>
                            <p>容器格式（Container）是封装音频、视频、字幕等流的"盒子"，编码格式（Codec）是压缩编码的具体方法。</p>
                            <ul>
                                <li><strong>容器格式</strong>：MP4(MPEG-4 Part 14)、MKV(Matroska)、WebM、AVI、MOV</li>
                                <li><strong>视频编码</strong>：H.264/AVC、H.265/HEVC、VP9、AV1、MPEG-2、MJPEG</li>
                                <li><strong>音频编码</strong>：AAC、MP3、Opus、FLAC、AC-3</li>
                                <li><strong>容器与编码关系</strong>：同一容器可使用不同编码，如MP4容器可用H.264或H.265编码</li>
                                <li><strong>格式选择原则</strong>：根据兼容性、压缩效率、质量需求选择合适组合</li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-4">
                            <h3>4. 图像处理基础理论</h3>
                            <p>视频本质是图像序列，掌握图像处理的基础理论是视频处理的核心前提。</p>
                            <ul>
                                <li><strong>数字图像表示</strong>：二维函数f(x,y)，(x,y)为空间坐标，f为幅值</li>
                                <li><strong>空域滤波</strong>：直接在图像空间进行滤波操作
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>线性滤波：均值滤波、高斯滤波</li>
                                        <li>非线性滤波：中值滤波、双边滤波</li>
                                        <li>卷积运算：g(x,y) = f(x,y) * h(x,y)，h为卷积核</li>
                                    </ul>
                                </li>
                                <li><strong>频域处理</strong>：通过傅里叶变换在频域分析图像特性
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>DFT(离散傅里叶变换)、FFT(快速傅里叶变换)</li>
                                        <li>频域滤波：低通(去噪)、高通(边缘增强)</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-5">
                            <h3>5. 图像变换技术</h3>
                            <p>图像变换将图像从空域转换到变换域，便于压缩、分析和处理。视频压缩的核心技术之一。</p>
                            <ul>
                                <li><strong>DCT(离散余弦变换)</strong>：JPEG、H.264、H.265的核心变换
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>将图像块从空域转换到频域</li>
                                        <li>能量集中在低频系数，便于压缩</li>
                                        <li>8×8块DCT为视频压缩标准变换</li>
                                    </ul>
                                </li>
                                <li><strong>DWT(离散小波变换)</strong>：多分辨率分析
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>JPEG 2000采用的技术</li>
                                        <li>时频局部化特性优于DCT</li>
                                    </ul>
                                </li>
                                <li><strong>量化</strong>：有损压缩的关键步骤
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>量化系数 = round(变换系数 / 量化步长)</li>
                                        <li>量化步长越大，压缩率越高但失真越大</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-6">
                            <h3>6. 边缘检测与特征提取</h3>
                            <p>边缘是图像中重要的特征，边缘检测是计算机视觉的基础操作。</p>
                            <ul>
                                <li><strong>梯度算子</strong>：基于一阶导数的边缘检测
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>Sobel算子：考虑加权，抗噪性强</li>
                                        <li>Prewitt算子：简单的梯度算子</li>
                                        <li>Roberts算子：交叉梯度算子</li>
                                    </ul>
                                </li>
                                <li><strong>二阶导数</strong>：基于拉普拉斯算子
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>Laplacian算子：检测零交叉点</li>
                                        <li>LoG算子：高斯-拉普拉斯算子</li>
                                    </ul>
                                </li>
                                <li><strong>Canny边缘检测</strong>：多阶段最优边缘检测算法
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>高斯滤波去噪</li>
                                        <li>计算梯度幅值和方向</li>
                                        <li>非极大值抑制</li>
                                        <li>双阈值检测和边缘连接</li>
                                    </ul>
                                </li>
                                <li><strong>Harris角点检测</strong>：检测图像中的角点特征</li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-7">
                            <h3>7. 运动估计与运动补偿</h3>
                            <p>运动估计和运动补偿是视频压缩的核心技术，利用视频帧间的时空相关性减少冗余。</p>
                            <ul>
                                <li><strong>运动估计原理</strong>：寻找当前帧与参考帧之间的对应关系
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>帧间相关性：相邻帧内容相似度高</li>
                                        <li>运动矢量(MV)：表示块在参考帧中的位移</li>
                                    </ul>
                                </li>
                                <li><strong>块匹配算法(BMA)</strong>：最常用的运动估计方法
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>将当前帧划分为宏块（如16×16）</li>
                                        <li>在参考帧的搜索窗内寻找最佳匹配块</li>
                                        <li>匹配准则：SAD(绝对差和)、SSD(平方差和)</li>
                                    </ul>
                                </li>
                                <li><strong>搜索策略</strong>
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>全搜索：最精确但计算量大</li>
                                        <li>三步搜索、四步搜索：快速搜索算法</li>
                                        <li>钻石搜索、六边形搜索：进一步优化</li>
                                    </ul>
                                </li>
                                <li><strong>光流法</strong>：基于像素级的运动估计
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>Lucas-Kanade方法</li>
                                        <li>Horn-Schunck方法</li>
                                        <li>稠密光流 vs 稀疏光流</li>
                                    </ul>
                                </li>
                                <li><strong>运动补偿</strong>：利用运动矢量预测当前帧
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>前向预测（P帧）</li>
                                        <li>双向预测（B帧）</li>
                                        <li>帧内预测（I帧）</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-8">
                            <h3>8. 视频帧类型与GOP结构</h3>
                            <p>理解视频编码中的帧类型和GOP（图像组）结构对视频压缩和随机访问至关重要。</p>
                            <ul>
                                <li><strong>I帧（Intra Frame）</strong>：帧内编码帧
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>不依赖其他帧，可独立解码</li>
                                        <li>作为随机访问点</li>
                                        <li>数据量最大，压缩效率最低</li>
                                    </ul>
                                </li>
                                <li><strong>P帧（Predicted Frame）</strong>：前向预测帧
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>参考前向I帧或P帧</li>
                                        <li>使用运动补偿</li>
                                        <li>数据量小于I帧</li>
                                    </ul>
                                </li>
                                <li><strong>B帧（Bi-directional Predicted Frame）</strong>：双向预测帧
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>参考前后帧进行预测</li>
                                        <li>压缩效率最高，数据量最小</li>
                                        <li>增加延迟和复杂度</li>
                                    </ul>
                                </li>
                                <li><strong>GOP（Group of Pictures）</strong>：图像组结构
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>定义帧的排列模式，如IBBPBBPBBPI</li>
                                        <li>GOP长度影响压缩率和随机访问能力</li>
                                        <li>开放GOP vs 闭合GOP</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-9">
                            <h3>9. 视频质量评估指标</h3>
                            <p>视频质量评估是视频处理中重要的评价指标，用于衡量压缩、增强等处理的效果。</p>
                            <ul>
                                <li><strong>主观质量评估</strong>：通过人眼直接评价
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>MOS（平均意见分）</li>
                                        <li>DMOS（差分平均意见分）</li>
                                        <li>符合ITU-R BT.500标准</li>
                                    </ul>
                                </li>
                                <li><strong>客观质量评估 - 全参考</strong>：需要原始视频
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li><strong>PSNR（峰值信噪比）</strong>：最常用的指标
                                            <ul style="margin-left:20px; margin-top:3px;">
                                                <li>PSNR = 10·log₁₀(MAX²/MSE)</li>
                                                <li>值越大质量越好，>30dB为可接受</li>
                                            </ul>
                                        </li>
                                        <li><strong>SSIM（结构相似性）</strong>：更符合人眼感知
                                            <ul style="margin-left:20px; margin-top:3px;">
                                                <li>考虑亮度、对比度、结构</li>
                                                <li>范围[0,1]，值越大质量越好</li>
                                            </ul>
                                        </li>
                                        <li><strong>VMAF（视频多方法评估融合）</strong>：Netflix开源
                                            <ul style="margin-left:20px; margin-top:3px;">
                                                <li>融合多个指标，更准确</li>
                                                <li>广泛用于行业评估</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><strong>无参考质量评估（NR-IQA）</strong>：不需要原始视频
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>基于自然场景统计的方法</li>
                                        <li>深度学习质量评估模型</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="topic-item" id="basics-10">
                            <h3>10. 视频压缩的基本原理</h3>
                            <p>视频压缩通过去除冗余来实现高效编码，是视频处理的核心技术。</p>
                            <ul>
                                <li><strong>空间冗余</strong>：帧内像素的相关性
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>帧内预测（Intra Prediction）</li>
                                        <li>变换编码（DCT）压缩空域冗余</li>
                                    </ul>
                                </li>
                                <li><strong>时间冗余</strong>：帧与帧之间的相关性
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>帧间预测（Inter Prediction）</li>
                                        <li>运动估计与运动补偿</li>
                                    </ul>
                                </li>
                                <li><strong>编码冗余</strong>：编码符号的统计冗余
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>熵编码（Entropy Coding）</li>
                                        <li>Huffman编码、算术编码、CABAC</li>
                                    </ul>
                                </li>
                                <li><strong>视觉冗余</strong>：人眼对某些信息不敏感
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>量化去除高频细节</li>
                                        <li>色度采样</li>
                                    </ul>
                                </li>
                                <li><strong>率失真优化（RDO）</strong>：平衡码率和质量
                                    <ul style="margin-top:5px; margin-left:20px;">
                                        <li>代价函数：J = D + λ·R</li>
                                        <li>D：失真，R：码率，λ：拉格朗日乘子</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // 高亮当前导航项
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    document.querySelectorAll('.sidebar-nav a').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        document.querySelectorAll('.topic-item[id]').forEach(item => {
            observer.observe(item);
        });
    </script>
</body>
</html>